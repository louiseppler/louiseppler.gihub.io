<!DOCTYPE html>
<html>
  <head>
      <meta charset="utf-8">
      <title>Lecture Relink</title>
      <!-- <link href="styles.css" rel="stylesheet"/> -->
      <style>
        h1 {text-align: center;}
        p {text-align: center;}
      </style>
  </head>
  <body>
    <h1> Lecture Relink â€“ Loading...</h1>
    <!-- <p> Loading... </p> -->
    <p> Relinking will work automatically from quarter-to XX if a lecture is upcoming</p>
    <script>

      var d = new Date();
      var n = d.getTime();

      var hour = d.getHours()
      var min = d.getMinutes()
      var day = d.getDay()

      console.log(hour);
      console.log(min);
      console.log(day);

      if(min >= 45) {hour += 1;}

                    // 8      9       10      11      12      13      14      15      16      17
      var lessons = [["",     "AD-U", "AD-U", "AD-U", "DM-U", "DM-U", "",     "",     "",     "",    ],
                     ["",     "",     "EP",   "EP",   "DM",   "DM",   "",     "",     "",     "",    ],
                     ["",     "",     "LA1",  "LA1",  "DM",   "DM",   "",     "",     "",     "",    ],
                     ["LA-U", "LA-U", "",     "",     "",     "",     "AD",   "AD",   "AD",   "",    ],
                     ["EP",   "EP",   "LA2",  "LA2",  "",     "",     "",     "",     "EP-U", "EP-U",], ];

      var links = {
                   "EP"   :"https://video.ethz.ch/live/lectures/zentrum/ml/ml-d-28.html",
                   "EP-Z" :"",
                   //"DM"   :"https://video.ethz.ch/live/lectures/zentrum/hg/hg-e-7.html",
                   "DM"   :"https://ethz.zoom.us/j/99832431597",

                   "LA1"  :"https://video.ethz.ch/live/lectures/zentrum/hg/hg-f-1.html",
                   "LA2"  :"https://video.ethz.ch/live/lectures/zentrum/hg/hg-e-7.html",
                   //"AD"   :"https://video.ethz.ch/live/lectures/zentrum/ml/ml-d-28.html",
                   "AD"   :"https://ethz.zoom.us/j/96293619426?pwd=c093VG9pUlk0WTdWRWpKV1dhYWUvUT09",

                   "AD-U" :"https://ethz.zoom.us/j/7466475935",
                   "DM-U" :"https://ethz.zoom.us/j/96613855187",
                   "LA-U" :"https://ethz.zoom.us/j/7746767983",
                   "EP-U" :"https://ethz.zoom.us/j/2979805043",
                    };


      if(1 <= day && day < 6 && 8 <= hour && hour < 18) {
        var lesson = lessons[day-1][hour-8]
        if(lesson != "") {
          window.open(links[lesson],"_self");
        }
      }

    </script>
  </body>

</html>
